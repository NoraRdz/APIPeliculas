{"list":[{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para registrar una nueva película en la base de datos.\r* Este controlador se ejecuta después de que el middleware de validación ha confirmado\rque los datos son correctos y que el archivo (si se envió) ha sido procesado.\rRecibe los datos del cuerpo de la petición y llama al modelo para la inserción."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para ver películas junto con su promedio de calificación.\rPermite filtrar por plataforma mediante query params."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para obtener el catálogo completo de películas.\rValida si existen resultados y retorna el listado o un error 404."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para gestionar la visualización de películas por géneros.\r- Si se envía `name` en query: filtra películas de ese género.\r- Si no se envía: devuelve conteo de películas por género."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para obtener películas de una plataforma específica (por parámetros de ruta)."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para agregar una nueva calificación a una película."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para modificar una calificación existente."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para eliminar una calificación.\rRequiere los IDs compuestos (usuario, película, plataforma) para identificar el registro."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para obtener el historial de calificaciones de un usuario."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para actualizar los datos de un usuario."},{"title":"Controllers","link":"<a href=\"Controllers.html\">Controllers</a>","description":"Controlador para buscar un usuario específico por su ID."},{"title":"Controllers\r* @param  req - Objeto de solicitud (request).","link":"<a href=\"Controllers%250D_%2520@param%2520%2520req%2520-%2520Objeto%2520de%2520solicitud%2520(request)..html\">Controllers\r* @param  req - Objeto de solicitud (request).</a>","description":"Controlador para registrar un nuevo usuario.\rValida que los campos requeridos estén presentes antes de llamar al modelo."},{"title":"Controllers\r* @param  req - Objeto de solicitud.","link":"<a href=\"Controllers%25250D_%252520@param%252520%252520req%252520-%252520Objeto%252520de%252520solicitud..html\">Controllers\r* @param  req - Objeto de solicitud.</a>","description":"Controlador para obtener el listado de todos los géneros."},{"title":"Controllers\r* @param  req - Objeto de solicitud.","link":"<a href=\"Controllers%25250D_%252520@param%252520%252520req%252520-%252520Objeto%252520de%252520solicitud..html\">Controllers\r* @param  req - Objeto de solicitud.</a>","description":"Controlador para obtener plataformas.\rPuede retornar todas las plataformas o una específica si se envía el ID por query."},{"title":"Middleware","link":"<a href=\"Middleware.html\">Middleware</a>","description":"Middleware global de manejo de errores.\rCaptura errores generados en cualquier parte de la aplicación y envía una respuesta JSON estandarizada.\rOculta la pila de llamadas (stack trace) en entornos de producción por seguridad."},{"title":"Middleware","link":"<a href=\"Middleware.html\">Middleware</a>","description":"Middleware para manejar rutas no encontradas (404).\rSe ejecuta cuando una solicitud entrante no coincide con ninguna ruta definida en la aplicación.\rCrea un objeto Error con un mensaje descriptivo y establece el estado HTTP a 404."},{"title":"Middleware","link":"<a href=\"Middleware.html\">Middleware</a>","description":"Estrategia de nombrado por defecto (si no se provee una función `filename`):\r1. Busca si se especificó un nombre en `req.body.filename` o `req.query.filename`.\r2. Si existe, usa ese nombre base + timestamp + extensión original.\r3. Si no, usa el nombre original del archivo + timestamp + extensión."},{"title":"Middleware","link":"<a href=\"Middleware.html\">Middleware</a>","description":"Middleware compuesto para validar la creación de una película.\r* Este middleware realiza dos acciones secuenciales:\r1. Procesa la subida de la imagen ('archivo') utilizando `customUpload`.\r2. Ejecuta las validaciones de `express-validator` sobre los campos del formulario (`req.body`).\r* Si hay errores en la subida o en la validación de datos, retorna un error y detiene el flujo.\rSi todo es correcto, pasa el control al siguiente controlador.\r* @module validacionPelicula"},{"title":"Middleware\r* @description\r- **Filename**: Reemplaza espacios en el título por guiones y conserva la extensión original.\r- Si no hay título en el body, usa un comportamiento fallback (vacío o timestamp según multer.js).","link":"<a href=\"Middleware%250D_%2520@description%250D-%2520__Filename___%2520Reemplaza%2520espacios%2520en%2520el%2520t%25C3%25ADtulo%2520por%2520guiones%2520y%2520conserva%2520la%2520extensi%25C3%25B3n%2520original.%250D-%2520Si%2520no%2520hay%2520t%25C3%25ADtulo%2520en%2520el%2520body,%2520usa%2520un%2520comportamiento%2520fallback%2520(vac%25C3%25ADo%2520o%2520timestamp%2520seg%25C3%25BAn%2520multer.js)..html\">Middleware\r* @description\r- **Filename**: Reemplaza espacios en el título por guiones y conserva la extensión original.\r- Si no hay título en el body, usa un comportamiento fallback (vacío o timestamp según multer.js).</a>","description":"Configuración personalizada de Multer para la subida de archivos de películas.\rDefine cómo se nombrará el archivo basado en el título de la película enviado en el body."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para obtener el historial de calificaciones de un usuario."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para obtener el catálogo de géneros."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Modelo de acceso a datos para Películas.\rAquí se definen las consultas a la base de datos relacionadas con la tabla 'movies'."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para extraer calificaciones."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para obtener calificaciones filtradas por plataforma de streaming."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para obtener el catálogo completo de películas."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para listar películas disponibles en una plataforma."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para obtener estadísticas de cantidad de películas por género."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para gestionar el catálogo de plataformas de streaming."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para obtener la información de un usuario específico."},{"title":"Models","link":"<a href=\"Models.html\">Models</a>","description":"Módulo para obtener el listado completo de usuarios."},{"title":"Models\r* @param  data - Datos de la calificación.","link":"<a href=\"Models%250D_%2520@param%2520%2520data%2520-%2520Datos%2520de%2520la%2520calificaci%25C3%25B3n..html\">Models\r* @param  data - Datos de la calificación.</a>","description":"Registra una nueva calificación para una película en una plataforma específica.\rVerifica mediante `WHERE NOT EXISTS` que el usuario no haya calificado ya esa película en esa plataforma."},{"title":"Models\r* @param  data - Identificadores para localizar la calificación.","link":"<a href=\"Models%250D_%2520@param%2520%2520data%2520-%2520Identificadores%2520para%2520localizar%2520la%2520calificaci%25C3%25B3n..html\">Models\r* @param  data - Identificadores para localizar la calificación.</a>","description":"Elimina una calificación de la base de datos."},{"title":"Models\r* @param  usuario - Objeto con los datos a actualizar.","link":"<a href=\"Models%250D_%2520@param%2520%2520usuario%2520-%2520Objeto%2520con%2520los%2520datos%2520a%2520actualizar..html\">Models\r* @param  usuario - Objeto con los datos a actualizar.</a>","description":"Actualiza la información de un usuario existente.\rUtiliza COALESCE en SQL para mantener los valores actuales si los nuevos son nulos."},{"title":"Models\r* @param  usuario - Objeto con los datos del usuario.","link":"<a href=\"Models%250D_%2520@param%2520%2520usuario%2520-%2520Objeto%2520con%2520los%2520datos%2520del%2520usuario..html\">Models\r* @param  usuario - Objeto con los datos del usuario.</a>","description":"Inserta un nuevo usuario en la base de datos."},{"title":"controller:extraerPeliculasGeneros","link":"<a href=\"global.html#controller:extraerPeliculasGeneros\">controller:extraerPeliculasGeneros</a>","description":"Llama a la función de modelo para obtener todos los usuarios y envía la respuesta al cliente."},{"title":"module.exports","link":"<a href=\"module.html#.exports\">exports</a>","description":"Inserta una nueva película en la base de datos.\r\rEsta función registra una película en la tabla `movies` utilizando los valores\rproporcionados para título, año de estreno y sinopsis.  \rDevuelve el registro insertado si la operación es exitosa."},{"title":"module.exports","link":"<a href=\"module.html#.exports\">exports</a>","description":"Obtiene la lista de películas junto con su calificación promedio\ry el total de reseñas registradas.\r\rEsta función consulta la base de datos para obtener todas las películas\ry sus respectivas calificaciones, calculando el promedio de rating y el\rnúmero total de reseñas por película.  \rSi una película no tiene calificaciones, el promedio será `null`\ry el total de reseñas será `0`."},{"title":"module:extraerCalificacionPeliculasPlataforma","link":"<a href=\"module-extraerCalificacionPeliculasPlataforma.html\">module:extraerCalificacionPeliculasPlataforma</a>","description":"Obtiene la lista de películas y sus calificaciones filtradas por plataforma.\r\rEsta función consulta la base de datos para obtener las películas disponibles\ren una plataforma específica, junto con su calificación promedio y el número total\rde reseñas.  \rSi una película no tiene calificaciones, `promedio_rating` será `null`\ry `total_reviews` será `0`."},{"title":"module:extraerCalificacionesUsuario","link":"<a href=\"module-extraerCalificacionesUsuario.html\">module:extraerCalificacionesUsuario</a>","description":"Consulta las calificaciones realizadas por un usuario específico.\r\rEsta función recupera el historial de actividad de un usuario, mostrando\rqué películas ha calificado, qué puntaje les dio y en qué plataforma.\rRealiza un JOIN entre las tablas `rating`, `movies` y `platforms` filtrando\rpor el ID del usuario proporcionado."},{"title":"module:extraerGeneros","link":"<a href=\"module-extraerGeneros.html\">module:extraerGeneros</a>","description":"Recupera todos los géneros disponibles en la base de datos.\r\rEsta función consulta la tabla `genre` y devuelve el listado completo\rde categorías (por ejemplo: Acción, Comedia, Drama) sin ningún filtro."},{"title":"module:extraerPeliculas","link":"<a href=\"module-extraerPeliculas.html\">module:extraerPeliculas</a>","description":"Obtiene todas las películas registradas con sus estadísticas de calificación.\r\rEsta función recupera el listado completo de películas desde la base de datos.\rRealiza un cálculo del promedio de rating y cuenta el total de reseñas\rpara cada título utilizando una agrupación (GROUP BY)."},{"title":"module:extraerPeliculasGeneros","link":"<a href=\"module-extraerPeliculasGeneros.html\">extraerPeliculasGeneros</a>","description":"Módulo para obtener películas filtradas por género."},{"title":"module:extraerPeliculasGeneros","link":"<a href=\"module-extraerPeliculasGeneros.html\">module:extraerPeliculasGeneros</a>","description":"Busca y retorna las películas asociadas a un género específico.\r\rEsta función realiza una consulta uniendo las tablas de películas y géneros\r(mediante la tabla intermedia `movie_genre`) para filtrar los resultados\rbasándose en el nombre del género proporcionado."},{"title":"module:extraerPeliculasPlataforma","link":"<a href=\"module-extraerPeliculasPlataforma.html\">module:extraerPeliculasPlataforma</a>","description":"Obtiene el catálogo de películas de una plataforma específica junto con su fecha de disponibilidad.\r\rEsta función realiza un JOIN entre las tablas `platform_movie`, `platforms` y `movies`\rpara filtrar y devolver únicamente los títulos asociados al nombre de la plataforma proporcionada."},{"title":"module:extraerPeliculasPorGeneros","link":"<a href=\"module-extraerPeliculasPorGeneros.html\">module:extraerPeliculasPorGeneros</a>","description":"Calcula el número total de películas registradas por cada género.\r\rEsta función agrupa las películas según su género y realiza un conteo.\rLos resultados se devuelven ordenados de forma descendente, mostrando primero\rlos géneros que tienen más películas en el catálogo."},{"title":"module:extraerUsuario","link":"<a href=\"module-extraerUsuario.html\">module:extraerUsuario</a>","description":"Busca un usuario en la base de datos por su ID.\r\rEsta función realiza una consulta a la tabla `users` para recuperar\rtodos los datos almacenados asociados al identificador proporcionado."},{"title":"module:extraerUsuarios","link":"<a href=\"module-extraerUsuarios.html\">module:extraerUsuarios</a>","description":"Recupera todos los usuarios registrados en la base de datos.\r\rEsta función ejecuta una consulta a la tabla `users` sin ningún filtro,\rdevolviendo la información completa de todos los registros existentes.\rÚtil para listados administrativos o reportes generales."},{"title":"module:obtenerCatalogoPlataformas","link":"<a href=\"module-obtenerCatalogoPlataformas.html\">module:obtenerCatalogoPlataformas</a>","description":"Obtiene la lista de plataformas registradas o una plataforma específica.\r\rEsta función consulta la tabla `platforms` y tiene un comportamiento dinámico:\r1. Si no se proporciona un `id`, devuelve el listado completo de todas las plataformas.\r2. Si se proporciona un `id`, devuelve únicamente la plataforma que coincida con ese identificador."},{"title":"module:verUsuarios","link":"<a href=\"module-verUsuarios.html\">verUsuarios</a>","description":"Controlador para obtener y retornar todos los usuarios registrados en la base de datos."},{"title":"rules","link":"<a href=\"global.html#rules\">rules</a>","description":"Reglas de validación para los datos de la película.\rDefine las restricciones para los campos 'titulo', 'estreno' y 'sinopsis'."}]}