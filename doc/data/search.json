{"list":[{"title":"Middleware/multer.module:upload","link":"<a href=\"Middleware_multer.module_upload.html\">upload</a>","description":"Este middleware es una instancia de Multer configurada con:\r- Directorio por defecto: `src/public/archives`\r- Estrategia de nombrado automática con timestamp\r\rUso típico en rutas:\r```js\r// Cargar un solo archivo\rrouter.post('/subir', upload.single('archivo'), controlador);\r\r// Cargar varios archivos\rrouter.post('/subir', upload.array('archivos', 5), controlador);\r\r// Cargar distintos campos\rrouter.post('/subir', upload.fields([\r  { name: 'foto', maxCount: 1 },\r  { name: 'documentos', maxCount: 3 }\r]), controlador);\r```\r\rPara personalizar directorios o nombres:\r```js\rimport { createUpload } from './upload.js';\rconst customUpload = createUpload({\r  directory: '/ruta/personalizada',\r  filename: (req, file, cb) => {\r    cb(null, 'custom-' + Date.now() + path.extname(file.originalname));\r  }\r});\r```"},{"title":"Models/calificaciones/actualizarCalificacion","link":"<a href=\"global.html#Models/calificaciones/actualizarCalificacion\">Models/calificaciones/actualizarCalificacion</a>","description":"Actualiza la calificación de una película realizada por un usuario.\r\rEsta función permite modificar la calificación, el comentario y la plataforma\rdonde el usuario registró la película. Solo actualiza los campos enviados:\rsi un valor no está presente, se conserva su valor anterior gracias a `COALESCE`."},{"title":"controller:extraerPeliculasGeneros","link":"<a href=\"global.html#controller:extraerPeliculasGeneros\">controller:extraerPeliculasGeneros</a>","description":"Llama a la función de modelo para obtener todos los usuarios y envía la respuesta al cliente."},{"title":"module:Controller/peliculas/postPeliculas","link":"<a href=\"module-Controller_peliculas_postPeliculas.html\">Controller/peliculas/postPeliculas</a>","description":"Controlador para registrar una nueva película en la base de datos.\r\rEste controlador se ejecuta después de que el middleware de validación ha verificado\rque los datos enviados son correctos y que el archivo (si existe) ha sido procesado.\rRecibe la información del cuerpo de la petición y llama al modelo encargado de realizar la inserción."},{"title":"module:Controller/peliculas/verCalificacionPeliculas","link":"<a href=\"module-Controller_peliculas_verCalificacionPeliculas.html\">Controller/peliculas/verCalificacionPeliculas</a>","description":"Controlador para obtener películas junto con su calificación promedio.\rPermite aplicar un filtro opcional mediante el nombre de una plataforma."},{"title":"module:Controller/peliculas/verPeliculas","link":"<a href=\"module-Controller_peliculas_verPeliculas.html\">Controller/peliculas/verPeliculas</a>","description":"Controlador para obtener el catálogo completo de películas.\rValida si existen resultados y retorna el listado o un error 404."},{"title":"module:Controller/peliculas/verPeliculasGeneros","link":"<a href=\"module-Controller_peliculas_verPeliculasGeneros.html\">Controller/peliculas/verPeliculasGeneros</a>","description":"Controlador para gestionar la visualización de películas por género.\r\r- Si se envía `name` en los query params, filtra las películas pertenecientes a ese género.\r- Si no se envía, devuelve el conteo total de películas agrupadas por género."},{"title":"module:Controller/peliculas/verPeliculasPlataforma","link":"<a href=\"module-Controller_peliculas_verPeliculasPlataforma.html\">Controller/peliculas/verPeliculasPlataforma</a>","description":"Controlador para obtener las películas de una plataforma específica.\r\rEste controlador recibe el nombre de la plataforma mediante parámetros de ruta\ry consulta el modelo correspondiente para recuperar las películas asociadas."},{"title":"module:Controller/plataforma/obtenerPlataformas","link":"<a href=\"module-Controller_plataforma_obtenerPlataformas.html\">Controller/plataforma/obtenerPlataformas</a>","description":"Controlador para obtener plataformas.\rPuede retornar todas las plataformas o una específica si se envía el ID por query."},{"title":"module:Controller/usuario/agregarUsuario","link":"<a href=\"module-Controller_usuario_agregarUsuario.html\">Controller/usuario/agregarUsuario</a>","description":"Controlador para registrar un nuevo usuario.\rValida que los campos requeridos estén presentes antes de llamar al modelo."},{"title":"module:Controller/usuario/calificaciones/agregarCalificacion","link":"<a href=\"module-Controller_usuario_calificaciones_agregarCalificacion.html\">Controller/usuario/calificaciones/agregarCalificacion</a>","description":"Controlador para agregar una nueva calificación a una película."},{"title":"module:Controller/usuario/calificaciones/modificarCalificacion","link":"<a href=\"module-Controller_usuario_calificaciones_modificarCalificacion.html\">Controller/usuario/calificaciones/modificarCalificacion</a>","description":"Controlador para modificar una calificación existente."},{"title":"module:Controller/usuario/calificaciones/quitarCalificacion","link":"<a href=\"module-Controller_usuario_calificaciones_quitarCalificacion.html\">Controller/usuario/calificaciones/quitarCalificacion</a>","description":"Controlador para eliminar una calificación.\rRequiere los IDs compuestos (usuario, película, plataforma) para identificar el registro."},{"title":"module:Controller/usuario/calificaciones/verCalificacionesUsuario","link":"<a href=\"module-Controller_usuario_calificaciones_verCalificacionesUsuario.html\">Controller/usuario/calificaciones/verCalificacionesUsuario</a>","description":"Controlador para obtener el historial de calificaciones de un usuario."},{"title":"module:Controller/usuario/modificarUsuario","link":"<a href=\"module-Controller_usuario_modificarUsuario.html\">Controller/usuario/modificarUsuario</a>","description":"Controlador para actualizar los datos de un usuario."},{"title":"module:Controller/usuario/verUnUsuario","link":"<a href=\"module-Controller_usuario_verUnUsuario.html\">Controller/usuario/verUnUsuario</a>","description":"Controlador para buscar un usuario específico por su ID."},{"title":"module:Controller/usuario/verUsuarios","link":"<a href=\"module-Controller_usuario_verUsuarios.html\">Controller/usuario/verUsuarios</a>","description":"Controlador para obtener y retornar todos los usuarios registrados en la base de datos."},{"title":"module:Controllers/generos/verGeneros","link":"<a href=\"module-Controllers_generos_verGeneros.html\">Controllers/generos/verGeneros</a>","description":"Controlador para obtener el listado de todos los géneros."},{"title":"module:Middleware/createUpload","link":"<a href=\"module-Middleware_createUpload.html\">Middleware/createUpload</a>","description":"Estrategia de nombrado por defecto (si no se provee una función `filename`):\r1. Busca si se especificó un nombre en `req.body.filename` o `req.query.filename`.\r2. Si existe, usa ese nombre base + timestamp + extensión original.\r3. Si no, usa el nombre original del archivo + timestamp + extensión."},{"title":"module:Middleware/customUpload","link":"<a href=\"module-Middleware_customUpload.html\">Middleware/customUpload</a>","description":"- **Filename**: Reemplaza espacios en el título por guiones y conserva la extensión original.\r- Si no hay título en el body, usa un comportamiento fallback (vacío o timestamp según multer.js)."},{"title":"module:Middleware/errorHandler","link":"<a href=\"module-Middleware_errorHandler.html\">Middleware/errorHandler</a>","description":"Middleware global de manejo de errores.\rCaptura errores generados en cualquier parte de la aplicación y envía una respuesta JSON estandarizada.\rOculta la pila de llamadas (stack trace) en entornos de producción por seguridad."},{"title":"module:Middleware/notFound","link":"<a href=\"module-Middleware_notFound.html\">Middleware/notFound</a>","description":"Middleware para manejar rutas no encontradas (404).\rSe ejecuta cuando una solicitud entrante no coincide con ninguna ruta definida en la aplicación.\rCrea un objeto Error con un mensaje descriptivo y establece el estado HTTP a 404."},{"title":"module:Middleware/validacionPelicula","link":"<a href=\"module-Middleware_validacionPelicula.html\">Middleware/validacionPelicula</a>","description":"Middleware compuesto para validar la creación de una película.\r* Este middleware realiza dos acciones secuenciales:\r1. Procesa la subida de la imagen ('archivo') utilizando `customUpload`.\r2. Ejecuta las validaciones de `express-validator` sobre los campos del formulario (`req.body`).\r* Si hay errores en la subida o en la validación de datos, retorna un error y detiene el flujo.\rSi todo es correcto, pasa el control al siguiente controlador."},{"title":"module:Models/calificaciones/InsertarCalificacion","link":"<a href=\"module-Models_calificaciones_InsertarCalificacion.html\">Models/calificaciones/InsertarCalificacion</a>","description":"Registra una nueva calificación para una película en una plataforma específica.\rInserta un nuevo registro en la tabla `rating`."},{"title":"module:Models/calificaciones/InsertarCalificacion~InsertarCalificacion","link":"<a href=\"module-Models_calificaciones_InsertarCalificacion.html#~InsertarCalificacion\">InsertarCalificacion</a>","description":"Inserta una calificación para una película en una plataforma, hecha por un usuario."},{"title":"module:Models/calificaciones/eliminarCalificacion","link":"<a href=\"module-Models_calificaciones_eliminarCalificacion.html\">Models/calificaciones/eliminarCalificacion</a>","description":"Elimina una calificación existente en la base de datos según\rel usuario, la película y la plataforma."},{"title":"module:Models/calificaciones/eliminarCalificacion~eliminarCalificacion","link":"<a href=\"module-Models_calificaciones_eliminarCalificacion.html#~eliminarCalificacion\">eliminarCalificacion</a>","description":"Elimina una calificación de la tabla `rating`.\r\rSe ejecuta un DELETE con los identificadores proporcionados."},{"title":"module:Models/calificaciones/extraerCalificacionesUsuario","link":"<a href=\"module-Models_calificaciones_extraerCalificacionesUsuario.html\">Models/calificaciones/extraerCalificacionesUsuario</a>","description":"Obtiene el historial de calificaciones realizadas por un usuario,\rincluyendo el título de la película, la puntuación y la plataforma asociada."},{"title":"module:Models/calificaciones/extraerCalificacionesUsuario~extraerCalificacionesUsuario","link":"<a href=\"module-Models_calificaciones_extraerCalificacionesUsuario.html#~extraerCalificacionesUsuario\">extraerCalificacionesUsuario</a>","description":"Consulta las calificaciones realizadas por un usuario específico.\r\rRealiza un JOIN entre `rating`, `movies` y `platforms`, filtrando por el ID del usuario.\rDevuelve el listado completo de las calificaciones realizadas."},{"title":"module:Models/generos/extraerGeneros","link":"<a href=\"module-Models_generos_extraerGeneros.html\">Models/generos/extraerGeneros</a>","description":"Obtiene el catálogo completo de géneros disponibles en la base de datos."},{"title":"module:Models/generos/extraerGeneros~extraerGeneros","link":"<a href=\"module-Models_generos_extraerGeneros.html#~extraerGeneros\">extraerGeneros</a>","description":"Recupera todos los géneros registrados en la tabla `genre`."},{"title":"module:Models/peliculas/agregarPeliculas","link":"<a href=\"module-Models_peliculas_agregarPeliculas.html\">Models/peliculas/agregarPeliculas</a>","description":"Modelo encargado de insertar nuevas películas en la base de datos."},{"title":"module:Models/peliculas/agregarPeliculas~agregarPeliculas","link":"<a href=\"module-Models_peliculas_agregarPeliculas.html#~agregarPeliculas\">agregarPeliculas</a>","description":"Inserta una nueva película en la tabla `movies`."},{"title":"module:Models/peliculas/extraerCalificacionPeliculas","link":"<a href=\"module-Models_peliculas_extraerCalificacionPeliculas.html\">Models/peliculas/extraerCalificacionPeliculas</a>","description":"Obtiene todas las películas junto con su calificación promedio y total de reseñas."},{"title":"module:Models/peliculas/extraerCalificacionPeliculasPlataforma","link":"<a href=\"module-Models_peliculas_extraerCalificacionPeliculasPlataforma.html\">Models/peliculas/extraerCalificacionPeliculasPlataforma</a>","description":"Obtiene películas y sus calificaciones, filtradas por plataforma."},{"title":"module:Models/peliculas/extraerCalificacionPeliculasPlataforma~extraerCalificacionPeliculasPlataforma","link":"<a href=\"module-Models_peliculas_extraerCalificacionPeliculasPlataforma.html#~extraerCalificacionPeliculasPlataforma\">extraerCalificacionPeliculasPlataforma</a>","description":"Obtiene la lista de películas disponibles en una plataforma específica,\rjunto con su calificación promedio y número total de reseñas.\r\rSi una película no tiene calificaciones:\r - `promedio_rating` será `null`\r - `total_reviews` será `0`"},{"title":"module:Models/peliculas/extraerCalificacionPeliculas~extraerCalificacionPeliculas","link":"<a href=\"module-Models_peliculas_extraerCalificacionPeliculas.html#~extraerCalificacionPeliculas\">extraerCalificacionPeliculas</a>","description":"Recupera la lista de películas con su calificación promedio\ry la cantidad total de reseñas registradas.\r\rSi una película no tiene calificaciones:\r - `promedio_rating` será `null`\r - `total_reviews` será `0`"},{"title":"module:Models/peliculas/extraerPeliculas","link":"<a href=\"module-Models_peliculas_extraerPeliculas.html\">Models/peliculas/extraerPeliculas</a>","description":"Módulo para obtener el catálogo completo de películas con toda su información asociada."},{"title":"module:Models/peliculas/extraerPeliculasGeneros","link":"<a href=\"module-Models_peliculas_extraerPeliculasGeneros.html\">Models/peliculas/extraerPeliculasGeneros</a>","description":"Módulo para obtener películas filtradas por género."},{"title":"module:Models/peliculas/extraerPeliculasGeneros~extraerPeliculasGeneros","link":"<a href=\"module-Models_peliculas_extraerPeliculasGeneros.html#~extraerPeliculasGeneros\">extraerPeliculasGeneros</a>","description":"Obtiene todas las películas asociadas a un género específico.\r\rLa función consulta la base de datos uniendo las tablas `movies`, `genre`\ry la tabla intermedia `movie_genre`, de modo que pueda devolver únicamente\raquellas películas que correspondan al nombre del género solicitado."},{"title":"module:Models/peliculas/extraerPeliculasPlataforma","link":"<a href=\"module-Models_peliculas_extraerPeliculasPlataforma.html\">Models/peliculas/extraerPeliculasPlataforma</a>","description":"Módulo para listar películas disponibles en una plataforma."},{"title":"module:Models/peliculas/extraerPeliculasPlataforma~extraerPeliculasPlataforma","link":"<a href=\"module-Models_peliculas_extraerPeliculasPlataforma.html#~extraerPeliculasPlataforma\">extraerPeliculasPlataforma</a>","description":"Obtiene el catálogo de películas pertenecientes a una plataforma específica,\rjunto con su fecha de disponibilidad.\r\rLa consulta realiza un JOIN entre `platform_movie`, `platforms` y `movies`\rpara devolver únicamente las películas que están asociadas a la plataforma\rcuyo nombre coincide con el parámetro proporcionado."},{"title":"module:Models/peliculas/extraerPeliculasPorGeneros","link":"<a href=\"module-Models_peliculas_extraerPeliculasPorGeneros.html\">Models/peliculas/extraerPeliculasPorGeneros</a>","description":"Módulo para obtener estadísticas de la cantidad de películas por género."},{"title":"module:Models/peliculas/extraerPeliculas~extraerPeliculas","link":"<a href=\"module-Models_peliculas_extraerPeliculas.html#~extraerPeliculas\">extraerPeliculas</a>","description":"Obtiene todas las películas registradas junto con sus géneros, plataformas,\rpromedio de calificaciones y total de reseñas.\r\rLa consulta realiza múltiples `LEFT JOIN` para combinar películas con géneros,\rplataformas y calificaciones. También calcula el promedio de rating (promedio_rating)\rredondeado a un decimal y el número total de reseñas únicas (total_reviews)."},{"title":"module:Models/plataforma/obtenerCatalogoPlataformas","link":"<a href=\"module-Models_plataforma_obtenerCatalogoPlataformas.html\">Models/plataforma/obtenerCatalogoPlataformas</a>","description":"Módulo para gestionar el catálogo de plataformas de streaming."},{"title":"module:Models/usuarios/actualizarUsuario","link":"<a href=\"module-Models_usuarios_actualizarUsuario.html\">Models/usuarios/actualizarUsuario</a>","description":"Actualiza la información de un usuario existente.\r\rEsta función utiliza COALESCE dentro de la consulta SQL para mantener los\rvalores actuales cuando los nuevos campos llegan como null o undefined."},{"title":"module:Models/usuarios/actualizarUsuario","link":"<a href=\"module-Models_usuarios_actualizarUsuario.html\">Models/usuarios/actualizarUsuario</a>","description":"Actualiza la información de un usuario existente.\rUtiliza COALESCE en SQL para mantener los valores actuales si los nuevos son nulos."},{"title":"module:Models/usuarios/extraerUsuario","link":"<a href=\"module-Models_usuarios_extraerUsuario.html\">Models/usuarios/extraerUsuario</a>","description":"Módulo para obtener la información de un usuario específico."},{"title":"module:Models/usuarios/insertarUsuario","link":"<a href=\"module-Models_usuarios_insertarUsuario.html\">Models/usuarios/insertarUsuario</a>","description":"Inserta un nuevo usuario en la base de datos."},{"title":"module:extraerPeliculasPorGeneros","link":"<a href=\"module-extraerPeliculasPorGeneros.html\">module:extraerPeliculasPorGeneros</a>","description":"Recupera la cantidad total de películas asociadas a cada género.\r\rEsta función consulta la base de datos para contar cuántas películas\restán relacionadas con cada género dentro del catálogo.  \rUtiliza una unión entre las tablas `genre` y `movie_genre` y agrupa los resultados\rpor nombre del género.\r\rLos géneros se devuelven ordenados de forma descendente según la cantidad de películas."},{"title":"module:extraerUsuario","link":"<a href=\"module-extraerUsuario.html\">module:extraerUsuario</a>","description":"Busca un usuario en la base de datos por su ID.\r\rEsta función consulta la tabla `users` y devuelve el registro que coincide\rcon el ID proporcionado."},{"title":"module:obtenerCatalogoPlataformas","link":"<a href=\"module-obtenerCatalogoPlataformas.html\">module:obtenerCatalogoPlataformas</a>","description":"Obtiene todas las plataformas o una plataforma específica según su ID.\r\r- Si no se proporciona `id`, la función retorna todo el catálogo de plataformas.\r- Si se proporciona `id`, retorna únicamente la plataforma correspondiente."},{"title":"rules","link":"<a href=\"global.html#rules\">rules</a>","description":"Reglas de validación para los datos de la película.\rDefine las restricciones para los campos 'titulo', 'estreno' y 'sinopsis'."}]}